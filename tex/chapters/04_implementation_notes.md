## Milestones: ##
- Count all nodes, ways and relations in hamburg-latest.osm.pbf
    - Rust:
        - SLOC: 36
        - dev-time: 1989 -> 33:09 min
        - run-time:
            - -O0: target/debug/streets4rust ../osm/hamburg-latest.osm.pbf  27,61s user 0,12s system 99% cpu 27,749 total
            - -O3: target/release/streets4rust ../osm/hamburg-latest.osm.pbf  2,59s user 0,13s system 99% cpu 2,722 total
        - allocs: total heap usage: 11,373,558 allocs, 11,373,557 frees, 2,186,107,072 bytes allocated
        - counts: Found 2180418 nodes, 409424 ways and 7182 relations in ../osm/hamburg-latest.osm.pbf
        - notes:
            - easy dependency management, huuge optimization gains
    - Go:
        - SLOC: 55 (+ helper functions)
        - dev-time: 1276 -> 21:16 min
        - run-time:
            - GOMAXPROCS=1: ./streets4go ../osm/hamburg-latest.osm.pbf  4,85s user 0,05s system 101% cpu 4,846 total
            - GOMAXPROCS=8: ./streets4go ../osm/hamburg-latest.osm.pbf  9,00s user 0,28s system 672% cpu 1,381 total
        - allocs: total heap usage: 11,164,068 allocs, 11,000,199 frees, 1,447,543,184 bytes allocated
        - counts: Found 2180418 nodes, 409424 ways and 7182 relations in ../osm/hamburg-latest.osm.pbf
        - notes:
            - library parallelizeable, but singlethreaded slower
    - C:
        - SLOC: 163
        - dev-time: 3078 -> 51:18 min
        - run-time:
            - -O0: ./streets4c ../osm/hamburg-latest.osm.pbf  0,95s user 0,07s system 99% cpu 1,017 total
            - -O3: ./streets4c ../osm/hamburg-latest.osm.pbf  0,92s user 0,08s system 99% cpu 0,994 total
        - allocs: total heap usage: 2,390,566 allocs, 2,390,566 frees, 372,758,206 bytes allocated
        - counts: Found 2180418 nodes, 409424 ways and 7182 relations in ../osm/hamburg-latest.osm.pbf
        - notes:
            - no library available, linking problems, freeing problems, fastest solution (run), slowest solution (dev)
- Write basic graph structure
    - C:
        - SLOC: 385 (\*.c), 136 (\*.h) -> 521 total
        - dev-time: 12110 - 3078 = 9032 -> 02:30:32
        - notes:
            - glib verbosity, missing generics / typesafety
    - Rust:
        - SLOC: 170 total
        - dev-time: 6457 - 1989 = 4468 -> 01:14:28
        - notes:
            - lifetime gotchas (explicit readonly of dg.g etc.)
    - Go:
        - SLOC: 196 total (including util (priorityqueue) but excluding test)
        - dev-time: 5242 - 1276 = 3966 -> 01:06:06
        - notes:
            - testability
- Verify graph structure
    - Go:
        - SLOC: 275 total
        - binary-size: 2,9M
        - dev-time: 9851 - 5242 = 4609 -> 01:16:49
        - run-time: ./streets4go 0,61s user 0,07s system 99% cpu 0,686 total
        - allocs: total heap usage: 519 allocs, 169 frees, 53,016 bytes allocated
        - notes:
            - new vs make, by value <-> by reference
    - C:
        - SLOC: 494 (*.c), 139 (*.h) -> 633 total
        - binary-size: 51K
        - dev-time: 18920 - 12110 = 6810 -> 01:53:30
        - run-time:
            - O0: ./streets4c  0,00s user 0,00s system 0% cpu 0,004 total
            - O3: ./streets4c  0,00s user 0,00s system 0% cpu 0,003 total
        - allocs: total heap usage: 107 allocs, 105 frees, 7,868 bytes allocated (in use at exit: 2,036 bytes in 2 blocks)
        - notes:
            - pqueue problems, glib leaks, bad debugging experience
    - Rust:
        - SLOC: 232
        - binary-size: 628K
        - dev-time: 10335 - 6457 = 3878 -> 01:04:38
        - run-time:
            - O0: target/debug/streets4rust  0,00s user 0,00s system 45% cpu 0,007 total
            - O3: target/release/streets4rust  0,00s user 0,00s system 59% cpu 0,005 total
        - allocs: total heap usage: 47 allocs, 47 frees, 22,792 bytes allocated
        - notes:
            - excessive casting, showed error in other implementations (map.contains), weird vec init syntax, dependency breakage
- Benchmark graph structure
    - Go
        - SLOC: 359 total
        - binary-size: 3,2M
        - dev-time: 13227 - 9851 = 3376 -> 00:56:16
        - run-time: ./streets4go ../osm/hamburg-latest.osm.pbf  32922,15s user 35,17s system 100% cpu 9:08:19,25 total
        - allocs: total heap usage: 107857021120 allocs, 107813703911 frees, 1941662439848 bytes allocated
        - avg RAM usage: 1551M
        - notes:
            - no RAD in math
    - C
        - SLOC: 757 total
        - binary-size: 89K
        - dev-time: 23392 - 18920 = 4472 -> 01:14:32
        - run-time: ./streets4c ../osm/hamburg-latest.osm.pbf  30797,79s user 33,34s system 99% cpu 8:34:01,13 total
        - allocs:
        - avg RAM usage: 994M
        - notes:
            - implementation problems, low memory footprint,
    - Rust
        - SLOC: 292 total
        - binary-size: 747K
        - dev-time: 13055 - 10335 = 2720 -> 00:45:20
        - run-time: target/release/streets4rust ../osm/hamburg-latest.osm.pbf  27066,70s user 21,27s system 99% cpu 7:31:36,61 total
        - allocs:
        - avg RAM usage: 2235M
        - notes:
            - high ram usage?, lowest runtime?!
- Parallel benchmark
    - Rust
        - SLOC: 314
        - binary-size: 755K
        - dev-time: 14698 - 13055 = 1643 -> 00:27:23
        - run-time:
        - avg RAM usage: 2501M
        - notes:
            - some lifetime weirdness, high memory footprint
    - C
        - SLOC: 777
        - binary-size: 91K
        - dev-time: 23883 - 23392 = 491 -> 00:08:11
        - run-time:
        - avg RAM usage: 1213M
        - notes:
            - dev-time below 10 minutes!, low ram usage
